import{h as e,d as s}from"./auth-p59NCVpB.js";function n(){return e.get("/tickets")}function c(t){return e.get(`/tickets/${t}`)}function r(t){return e.post("/tickets",t)}function o(t,a){return e.patch(`/tickets/${t}`,a)}function l(t,a){return e.post(`/tickets/${t}/comment`,a)}function u(t){return e.delete(`/tickets/${t}`)}function h(t){return e.patch(`/tickets/${t}/close`)}function d(t){return e.patch(`/tickets/${t}/reopen`)}function k(t,a){return e.patch(`/tickets/${t}/status`,a)}function f(t,a){return e.patch(`/tickets/${t}/assign`,a)}const g=s("ticket",{state:()=>({list:[],current:null,loading:!1,error:null}),actions:{async loadAll(){this.loading=!0,this.error=null;try{const t=await n();this.list=t.data}catch(t){this.error=t.message}finally{this.loading=!1}},async load(t){this.loading=!0,this.error=null;try{const a=await c(t);this.current=a.data}catch(a){this.error=a.message}finally{this.loading=!1}},async create(t){await r(t),await this.loadAll()},async update(t,a){await o(t,a),await this.loadAll()},async comment(t,a,i){await l(t,{author:a,message:i}),await this.load(t)},async remove(t){await u(t),await this.loadAll()},async close(t){await h(t),await this.load(t)},async reopen(t){await d(t),await this.load(t)},async changeStatus(t,a){await k(t,{status:a}),await this.load(t)},async assign(t,a){await f(t,{assignee:a}),await this.load(t)}}});export{g as u};

import{H as f,j as o,k as e,l as u,t as d,E as g,N as h,u as a,v as r,F as _,y as k,x as i}from"./auth-p59NCVpB.js";import{_ as x,d as y,u as w}from"./index-BaOz1LJw.js";const F={class:"settings-wrapper container py-4"},v={class:"card mb-4"},S={class:"card-body d-flex justify-content-between align-items-center"},A={class:"form-check form-switch"},M={class:"form-check-label fs-sm",for:"maintenanceSwitch"},E={key:0,class:"card"},N={class:"card-body"},U={class:"list-group"},V={class:"text-muted d-block"},B={class:"form-check form-switch"},C=["id","onUpdate:modelValue","onChange"],D=["for"],j={key:0,class:"list-group-item text-center text-muted"},L={__name:"AdminSettings",setup(W){const l=y(),s=w();f(async()=>{await s.fetch(!0)});async function p(){try{await s.toggleMaintenance(),l.show("Wartungsmodus aktualisiert","success")}catch{l.show("Fehler beim Umschalten","danger")}}async function b(c){try{await s.toggleFlag(c.name,c.enabled),l.show(`Feature-Flag "${c.label}" aktualisiert`,"success")}catch{l.show("Fehler beim Umschalten","danger")}}return(c,n)=>(i(),o("div",F,[n[3]||(n[3]=e("h2",{class:"fs-lg mb-4 text-gradient d-flex align-items-center gap-2"},[e("i",{class:"bi bi-gear-fill"}),d(" App‑Einstellungen ")],-1)),e("div",v,[e("div",S,[n[1]||(n[1]=e("div",null,[e("h5",{class:"fs-md d-flex align-items-center gap-1"},[e("i",{class:"bi bi-tools"}),d(" Wartungsmodus ")]),e("p",{class:"text-muted fs-sm mb-0"}," Schaltet die gesamte App in den Wartungsmodus. ")],-1)),e("div",A,[g(e("input",{class:"form-check-input",type:"checkbox",id:"maintenanceSwitch","onUpdate:modelValue":n[0]||(n[0]=t=>a(s).maintenanceMode=t),onChange:p},null,544),[[h,a(s).maintenanceMode]]),e("label",M,r(a(s).maintenanceMode?"AN":"AUS"),1)])])]),a(s).featureFlags?.length>=0?(i(),o("div",E,[e("div",N,[n[2]||(n[2]=e("h5",{class:"fs-md mb-3 d-flex align-items-center gap-1"},[e("i",{class:"bi bi-flower1"}),d(" Feature‑Flags ")],-1)),e("ul",U,[(i(!0),o(_,null,k(a(s).featureFlags,t=>(i(),o("li",{key:t.name,class:"list-group-item d-flex justify-content-between align-items-center"},[e("div",null,[e("strong",null,r(t.label),1),e("small",V,r(t.name),1)]),e("div",B,[g(e("input",{class:"form-check-input",type:"checkbox",id:t.name,"onUpdate:modelValue":m=>t.enabled=m,onChange:m=>b(t)},null,40,C),[[h,t.enabled]]),e("label",{class:"form-check-label fs-sm",for:t.name},r(t.enabled?"ENABLED":"DISABLED"),9,D)])]))),128)),a(s).featureFlags.length?u("",!0):(i(),o("li",j," Keine Feature‑Flags definiert. "))])])])):u("",!0)]))}},$=x(L,[["__scopeId","data-v-f19fc1bb"]]);export{$ as default};

import{r as u,g as w,j as l,k as s,t as d,D as x,l as y,E as p,G as m,F as b,v as k,x as n}from"./auth-p59NCVpB.js";import{_,a as A,b as B}from"./index-BaOz1LJw.js";const F={class:"login-wrapper container d-flex flex-column align-items-center text-center py-5 animate-fadein"},V={class:"login-card p-4"},q={class:"mb-3 text-start"},D={class:"input-group"},N={class:"mb-4 text-start"},S={class:"input-group"},j=["disabled"],z={key:0,class:"alert alert-danger py-2 mb-0"},E={__name:"LoginForm",setup(L){const t=u({username:"",password:""}),c=w(),f=A(),v=B(),o=u(""),a=u(!1);async function g(){o.value="",a.value=!0;try{await c.login(t.value);const r=v.query.redirect||"/home";f.push(r)}catch(r){o.value=r?.response?.data?.error||r?.message||"Fehler bei der Anmeldung."}finally{a.value=!1}}return(r,e)=>(n(),l("div",F,[e[10]||(e[10]=s("h1",{class:"display-5 fw-bold mb-4 gradient-text"},[s("i",{class:"bi bi-box-arrow-in-right me-2"}),d(" Anmeldung ")],-1)),s("div",V,[s("form",{onSubmit:x(g,["prevent"]),novalidate:""},[s("div",q,[e[3]||(e[3]=s("label",{class:"form-label fw-semibold"},"Benutzername",-1)),s("div",D,[e[2]||(e[2]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-person-fill"})],-1)),p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>t.value.username=i),type:"text",class:"form-control",placeholder:"Benutzername",required:"",autocomplete:"username"},null,512),[[m,t.value.username]])])]),s("div",N,[e[5]||(e[5]=s("label",{class:"form-label fw-semibold"},"Passwort",-1)),s("div",S,[e[4]||(e[4]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-lock-fill"})],-1)),p(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>t.value.password=i),type:"password",class:"form-control",placeholder:"Passwort",required:"",autocomplete:"current-password"},null,512),[[m,t.value.password]])])]),s("button",{type:"submit",class:"btn btn-primary w-100 d-flex align-items-center justify-content-center gap-2 mb-3",disabled:a.value},[a.value?(n(),l(b,{key:0},[e[6]||(e[6]=s("span",{class:"spinner-border spinner-border-sm",role:"status"},null,-1)),e[7]||(e[7]=d(" Anmeldenâ€¦ "))],64)):(n(),l(b,{key:1},[e[8]||(e[8]=s("i",{class:"bi bi-arrow-right-circle"},null,-1)),e[9]||(e[9]=d(" Anmelden "))],64))],8,j),o.value?(n(),l("div",z,k(o.value),1)):y("",!0)],32)])]))}},R=_(E,[["__scopeId","data-v-f00be92f"]]);export{R as default};

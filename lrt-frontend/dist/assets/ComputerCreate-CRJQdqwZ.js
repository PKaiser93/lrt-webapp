import{r as i,H as D,h as k,j as n,C as z,k as e,l as A,v,F as y,y as V,E as s,G as o,K as b,m as T,t as U,o as M,q,D as I,x as r,z as N}from"./auth-p59NCVpB.js";import{_ as R,d as H,a as K}from"./index-BaOz1LJw.js";const L={class:"container py-4"},j={key:0,class:"text-center my-5"},E={key:1},F={key:0,class:"alert alert-danger"},G={class:"card"},O={class:"nav modern-tabs",role:"tablist"},$=["onClick"],J={class:"tab-content"},W={key:0,class:"row g-3"},Q={key:1,class:"row g-3"},X=["value"],Y={key:2,class:"row g-3"},Z={key:3,class:"row g-3"},c={key:4,class:"row g-3"},h={key:5,class:"row g-3"},_=["value"],ll={key:6,class:"row g-3"},el={class:"text-end px-4 pb-4"},tl=["disabled"],al={__name:"ComputerCreate",setup(sl){const p=H(),S=K(),g=i(!1),f=i(!1),m=i(""),w=i([]),C=i([]),a=i({marke:"",typ:"",seriennummer:"",dnsName:"",ram:null,cpu:"",grafikkarte:"",chipsatz:"",status:"",betriebssystem:"",version:"",abstraktionsebene:"",kernel:"",ipAdresse:"",macAdresse:"",dhcp:!1,remote:"",raumnummer:"",benutzer:"",betreuer:"",artDerArbeit:"",startdatum:"",abgabe:"",beschaffungsjahr:null,inventarnummer:"",laufendeNummer:null,studPCs:null,studienzuschuss:null,fauInventarnummer:"",kategorie:"",bios:"",tpm:"",info:"",todo:"",ablauf:""}),B=[{key:"info",label:"Hardware",icon:"bi bi-cpu"},{key:"os",label:"OS",icon:"bi bi-windows"},{key:"net",label:"Netzwerk",icon:"bi bi-diagram-3"},{key:"user",label:"Benutzer",icon:"bi bi-person-circle"},{key:"proc",label:"Beschaffung",icon:"bi bi-bag"},{key:"kat",label:"Kategorie",icon:"bi bi-tag"},{key:"other",label:"Sonstiges",icon:"bi bi-info-circle"}],u=i("info");D(async()=>{g.value=!0;try{const[d,l]=await Promise.all([k.get("/kategorie"),k.get("/betriebssystem")]);w.value=d.data,C.value=l.data}catch(d){p.show(d.response?.data?.error||"Fehler beim Laden der Listen","danger")}finally{g.value=!1}});async function P(){f.value=!0,m.value="";const d={...a.value,startdatum:a.value.startdatum?new Date(a.value.startdatum):null,abgabe:a.value.abgabe?new Date(a.value.abgabe):null};try{const l=await k.post("/api/computer",d);p.show("Computer erstellt","success"),S.push(`/computer/${l.data._id}`)}catch(l){m.value=l.response?.data?.error||"Erstellen fehlgeschlagen.",p.show(m.value,"danger")}finally{f.value=!1}}return(d,l)=>{const x=q("router-link");return r(),n("div",L,[l[78]||(l[78]=z('<div class="d-flex align-items-center mb-4 gap-2" data-v-44ecf247><i class="bi bi-plus-circle fs-3 text-primary" data-v-44ecf247></i><h2 class="mb-0 fw-bold text-gradient" data-v-44ecf247>Neuen Computer erstellen</h2></div><div class="info-hint" data-v-44ecf247><i class="bi bi-info-circle-fill" data-v-44ecf247></i><div data-v-44ecf247><strong data-v-44ecf247>Hinweis:</strong><br data-v-44ecf247> Die Felder <strong data-v-44ecf247>Marke</strong>, <strong data-v-44ecf247>Typ</strong>, <strong data-v-44ecf247>Betriebssystem</strong>, <strong data-v-44ecf247>DHCP</strong> und <strong data-v-44ecf247>Kategorie</strong> sind Pflichtfelder und müssen ausgefüllt werden. <hr data-v-44ecf247><strong data-v-44ecf247>Marke</strong> und <strong data-v-44ecf247>Typ</strong> sind im Tab Computer<br data-v-44ecf247><strong data-v-44ecf247>Betriebssystem</strong> im Tab Betriebssystem<br data-v-44ecf247><strong data-v-44ecf247>DHCP</strong> im Tab Netzwerk<br data-v-44ecf247><strong data-v-44ecf247>Kategorie</strong> im Tab Raum <hr data-v-44ecf247> Die <strong data-v-44ecf247>Seriennummer</strong> ist <strong data-v-44ecf247><i data-v-44ecf247>Unique</i></strong>. Sollte keine Seriennummer vorliegen, bitte einen Platzhalter eintragen! </div></div>',2)),g.value?(r(),n("div",j,l[35]||(l[35]=[e("div",{class:"spinner-border text-primary"},null,-1)]))):(r(),n("div",E,[m.value?(r(),n("div",F,v(m.value),1)):A("",!0),e("form",{onSubmit:I(P,["prevent"])},[e("div",G,[e("ul",O,[(r(),n(y,null,V(B,t=>e("li",{class:"nav-item",key:t.key},[e("button",{class:N(["nav-link",{active:u.value===t.key}]),onClick:ol=>u.value=t.key,type:"button"},[e("i",{class:N(t.icon)},null,2),U(" "+v(t.label),1)],10,$)])),64))]),e("div",J,[u.value==="info"?(r(),n("div",W,[e("div",null,[l[36]||(l[36]=e("label",{class:"form-label"},"Marke *",-1)),s(e("input",{"onUpdate:modelValue":l[0]||(l[0]=t=>a.value.marke=t),required:"",class:"form-control"},null,512),[[o,a.value.marke]])]),e("div",null,[l[38]||(l[38]=e("label",{class:"form-label"},"Status",-1)),s(e("select",{"onUpdate:modelValue":l[1]||(l[1]=t=>a.value.typ=t),required:"",class:"form-select"},l[37]||(l[37]=[z('<option value="pc" data-v-44ecf247>PC</option><option value="notebook" data-v-44ecf247>Notebook</option><option value="workstation" data-v-44ecf247>Workstation</option><option value="macbook-pro" data-v-44ecf247>Macbook Pro</option><option value="ipad-pro" data-v-44ecf247>iPad Pro</option>',5)]),512),[[b,a.value.typ]])]),e("div",null,[l[39]||(l[39]=e("label",{class:"form-label"},"Seriennummer *",-1)),s(e("input",{"onUpdate:modelValue":l[2]||(l[2]=t=>a.value.seriennummer=t),required:"",class:"form-control"},null,512),[[o,a.value.seriennummer]])]),e("div",null,[l[40]||(l[40]=e("label",{class:"form-label"},"DNS Name",-1)),s(e("input",{"onUpdate:modelValue":l[3]||(l[3]=t=>a.value.dnsName=t),class:"form-control"},null,512),[[o,a.value.dnsName]])]),e("div",null,[l[41]||(l[41]=e("label",{class:"form-label"},"RAM (GB)",-1)),s(e("input",{"onUpdate:modelValue":l[4]||(l[4]=t=>a.value.ram=t),type:"number",min:"0",class:"form-control"},null,512),[[o,a.value.ram,void 0,{number:!0}]])]),e("div",null,[l[42]||(l[42]=e("label",{class:"form-label"},"CPU",-1)),s(e("input",{"onUpdate:modelValue":l[5]||(l[5]=t=>a.value.cpu=t),class:"form-control"},null,512),[[o,a.value.cpu]])]),e("div",null,[l[43]||(l[43]=e("label",{class:"form-label"},"Grafikkarte",-1)),s(e("input",{"onUpdate:modelValue":l[6]||(l[6]=t=>a.value.grafikkarte=t),class:"form-control"},null,512),[[o,a.value.grafikkarte]])]),e("div",null,[l[44]||(l[44]=e("label",{class:"form-label"},"Chipsatz",-1)),s(e("input",{"onUpdate:modelValue":l[7]||(l[7]=t=>a.value.chipsatz=t),class:"form-control"},null,512),[[o,a.value.chipsatz]])]),e("div",null,[l[46]||(l[46]=e("label",{class:"form-label"},"Status",-1)),s(e("select",{"onUpdate:modelValue":l[8]||(l[8]=t=>a.value.status=t),required:"",class:"form-select"},l[45]||(l[45]=[e("option",{value:"in_betrieb"},"In Betrieb",-1),e("option",{value:"bald_ersetzen"},"Bald ersetzen",-1),e("option",{value:"ausser_betrieb"},"Außer Betrieb",-1),e("option",{value:"unbekannt"},"Unbekannt",-1)]),512),[[b,a.value.status]])])])):u.value==="os"?(r(),n("div",Q,[e("div",null,[l[48]||(l[48]=e("label",{class:"form-label"},"Betriebssystem *",-1)),s(e("select",{"onUpdate:modelValue":l[9]||(l[9]=t=>a.value.betriebssystem=t),required:"",class:"form-select"},[l[47]||(l[47]=e("option",{value:""},"—",-1)),(r(!0),n(y,null,V(C.value,t=>(r(),n("option",{key:t._id,value:t._id},v(t.name),9,X))),128))],512),[[b,a.value.betriebssystem]])]),e("div",null,[l[49]||(l[49]=e("label",{class:"form-label"},"Version",-1)),s(e("input",{"onUpdate:modelValue":l[10]||(l[10]=t=>a.value.version=t),class:"form-control"},null,512),[[o,a.value.version]])]),e("div",null,[l[50]||(l[50]=e("label",{class:"form-label"},"Abstraktionsebene",-1)),s(e("input",{"onUpdate:modelValue":l[11]||(l[11]=t=>a.value.abstraktionsebene=t),class:"form-control"},null,512),[[o,a.value.abstraktionsebene]])]),e("div",null,[l[51]||(l[51]=e("label",{class:"form-label"},"Kernel",-1)),s(e("input",{"onUpdate:modelValue":l[12]||(l[12]=t=>a.value.kernel=t),class:"form-control"},null,512),[[o,a.value.kernel]])])])):u.value==="net"?(r(),n("div",Y,[e("div",null,[l[52]||(l[52]=e("label",{class:"form-label"},"IP-Adresse",-1)),s(e("input",{"onUpdate:modelValue":l[13]||(l[13]=t=>a.value.ipAdresse=t),class:"form-control"},null,512),[[o,a.value.ipAdresse]])]),e("div",null,[l[53]||(l[53]=e("label",{class:"form-label"},"MAC-Adresse",-1)),s(e("input",{"onUpdate:modelValue":l[14]||(l[14]=t=>a.value.macAdresse=t),class:"form-control"},null,512),[[o,a.value.macAdresse]])]),e("div",null,[l[55]||(l[55]=e("label",{class:"form-label"},"DHCP *",-1)),s(e("select",{"onUpdate:modelValue":l[15]||(l[15]=t=>a.value.dhcp=t),required:"",class:"form-select"},l[54]||(l[54]=[e("option",{value:!0},"Ja",-1),e("option",{value:!1},"Nein",-1)]),512),[[b,a.value.dhcp]])]),e("div",null,[l[56]||(l[56]=e("label",{class:"form-label"},"Remote",-1)),s(e("input",{"onUpdate:modelValue":l[16]||(l[16]=t=>a.value.remote=t),class:"form-control"},null,512),[[o,a.value.remote]])]),e("div",null,[l[57]||(l[57]=e("label",{class:"form-label"},"Raumnummer *",-1)),s(e("input",{"onUpdate:modelValue":l[17]||(l[17]=t=>a.value.raumnummer=t),required:"",class:"form-control"},null,512),[[o,a.value.raumnummer]])])])):u.value==="user"?(r(),n("div",Z,[e("div",null,[l[58]||(l[58]=e("label",{class:"form-label"},"Benutzer",-1)),s(e("input",{"onUpdate:modelValue":l[18]||(l[18]=t=>a.value.benutzer=t),class:"form-control"},null,512),[[o,a.value.benutzer]])]),e("div",null,[l[59]||(l[59]=e("label",{class:"form-label"},"Betreuer",-1)),s(e("input",{"onUpdate:modelValue":l[19]||(l[19]=t=>a.value.betreuer=t),class:"form-control"},null,512),[[o,a.value.betreuer]])]),e("div",null,[l[60]||(l[60]=e("label",{class:"form-label"},"Art der Arbeit",-1)),s(e("input",{"onUpdate:modelValue":l[20]||(l[20]=t=>a.value.artDerArbeit=t),class:"form-control"},null,512),[[o,a.value.artDerArbeit]])]),e("div",null,[l[61]||(l[61]=e("label",{class:"form-label"},"Startdatum",-1)),s(e("input",{type:"date","onUpdate:modelValue":l[21]||(l[21]=t=>a.value.startdatum=t),class:"form-control"},null,512),[[o,a.value.startdatum]])]),e("div",null,[l[62]||(l[62]=e("label",{class:"form-label"},"Abgabe/Vortrag",-1)),s(e("input",{type:"date","onUpdate:modelValue":l[22]||(l[22]=t=>a.value.abgabe=t),class:"form-control"},null,512),[[o,a.value.abgabe]])])])):u.value==="proc"?(r(),n("div",c,[e("div",null,[l[63]||(l[63]=e("label",{class:"form-label"},"Beschaffungsjahr",-1)),s(e("input",{"onUpdate:modelValue":l[23]||(l[23]=t=>a.value.beschaffungsjahr=t),type:"number",class:"form-control"},null,512),[[o,a.value.beschaffungsjahr,void 0,{number:!0}]])]),e("div",null,[l[64]||(l[64]=e("label",{class:"form-label"},"Inventarnummer",-1)),s(e("input",{"onUpdate:modelValue":l[24]||(l[24]=t=>a.value.inventarnummer=t),class:"form-control"},null,512),[[o,a.value.inventarnummer]])]),e("div",null,[l[65]||(l[65]=e("label",{class:"form-label"},"Laufende Nummer",-1)),s(e("input",{"onUpdate:modelValue":l[25]||(l[25]=t=>a.value.laufendeNummer=t),type:"number",class:"form-control"},null,512),[[o,a.value.laufendeNummer,void 0,{number:!0}]])]),e("div",null,[l[66]||(l[66]=e("label",{class:"form-label"},"StudPCs",-1)),s(e("input",{"onUpdate:modelValue":l[26]||(l[26]=t=>a.value.studPCs=t),type:"number",class:"form-control"},null,512),[[o,a.value.studPCs,void 0,{number:!0}]])]),e("div",null,[l[67]||(l[67]=e("label",{class:"form-label"},"Studienzuschuss",-1)),s(e("input",{"onUpdate:modelValue":l[27]||(l[27]=t=>a.value.studienzuschuss=t),type:"number",class:"form-control"},null,512),[[o,a.value.studienzuschuss,void 0,{number:!0}]])]),e("div",null,[l[68]||(l[68]=e("label",{class:"form-label"},"FAU Inventarnummer",-1)),s(e("input",{"onUpdate:modelValue":l[28]||(l[28]=t=>a.value.fauInventarnummer=t),class:"form-control"},null,512),[[o,a.value.fauInventarnummer]])])])):u.value==="kat"?(r(),n("div",h,[e("div",null,[l[70]||(l[70]=e("label",{class:"form-label"},"Kategorie *",-1)),s(e("select",{"onUpdate:modelValue":l[29]||(l[29]=t=>a.value.kategorie=t),required:"",class:"form-select"},[l[69]||(l[69]=e("option",{value:""},"—",-1)),(r(!0),n(y,null,V(w.value,t=>(r(),n("option",{key:t._id,value:t._id},v(t.bezeichnung),9,_))),128))],512),[[b,a.value.kategorie]])])])):u.value==="other"?(r(),n("div",ll,[e("div",null,[l[71]||(l[71]=e("label",{class:"form-label"},"BIOS",-1)),s(e("input",{"onUpdate:modelValue":l[30]||(l[30]=t=>a.value.bios=t),class:"form-control"},null,512),[[o,a.value.bios]])]),e("div",null,[l[72]||(l[72]=e("label",{class:"form-label"},"TPM",-1)),s(e("input",{"onUpdate:modelValue":l[31]||(l[31]=t=>a.value.tpm=t),class:"form-control"},null,512),[[o,a.value.tpm]])]),e("div",null,[l[73]||(l[73]=e("label",{class:"form-label"},"Info",-1)),s(e("input",{"onUpdate:modelValue":l[32]||(l[32]=t=>a.value.info=t),class:"form-control"},null,512),[[o,a.value.info]])]),e("div",null,[l[74]||(l[74]=e("label",{class:"form-label"},"ToDo",-1)),s(e("input",{"onUpdate:modelValue":l[33]||(l[33]=t=>a.value.todo=t),class:"form-control"},null,512),[[o,a.value.todo]])]),e("div",null,[l[75]||(l[75]=e("label",{class:"form-label"},"Ablauf",-1)),s(e("input",{"onUpdate:modelValue":l[34]||(l[34]=t=>a.value.ablauf=t),class:"form-control"},null,512),[[o,a.value.ablauf]])])])):A("",!0)]),e("div",el,[e("button",{class:"btn btn-gradient",type:"submit",disabled:f.value},[l[76]||(l[76]=e("i",{class:"bi bi-check-circle me-1"},null,-1)),U(" "+v(f.value?"Erstellen …":"Erstellen"),1)],8,tl),T(x,{class:"btn btn-outline-secondary ms-3",to:"/computer"},{default:M(()=>l[77]||(l[77]=[e("i",{class:"bi bi-x-lg me-1"},null,-1),U(" Abbrechen ")])),_:1,__:[77]})])])],32)]))])}}},ul=R(al,[["__scopeId","data-v-44ecf247"]]);export{ul as default};

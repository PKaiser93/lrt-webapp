import{h as s,d as n}from"./auth-p59NCVpB.js";function h(e){return s.get("/betriebssystem",{params:e})}function o(e){return s.post("/betriebssystem",e)}function l(e,t){return s.patch(`/betriebssystem/${e}`,t)}function c(e){return s.patch(`/betriebssystem/${e}/soft-delete`)}function y(e){return s.patch(`/betriebssystem/${e}/restore`)}function d(e={}){return s.get("/betriebssystem/trash/list",{params:e})}const u=n("betriebssystem",{state:()=>({items:[],trash:[],isLoading:!1,error:null}),actions:{async fetchAll(e={}){this.isLoading=!0;try{const{data:t}=await h(e);this.items=Array.isArray(t)?t.filter(r=>typeof r=="object"&&r&&r._id):[],this.error=null}catch(t){this.items=[],this.error=t.response?.data?.error||"Unbekannter Fehler"}finally{this.isLoading=!1}},async fetchTrash(e={}){this.isLoading=!0;try{const{data:t}=await d(e);this.trash=Array.isArray(t)?t.filter(r=>typeof r=="object"&&r&&r._id):[],this.error=null}catch(t){this.trash=[],this.error=t.response?.data?.error||"Unbekannter Fehler"}finally{this.isLoading=!1}},async create(e){this.isLoading=!0;try{const{data:t}=await o(e);return this.items.push(t),this.error=null,t}catch(t){throw this.error=t.response?.data?.error||"Unbekannter Fehler",t}finally{this.isLoading=!1}},async update(e,t){this.isLoading=!0;try{const{data:r}=await l(e,t),i=this.items.findIndex(a=>a._id===e);return i>=0&&(this.items[i]=r),this.error=null,r}catch(r){throw this.error=r.response?.data?.error||"Unbekannter Fehler",r}finally{this.isLoading=!1}},async delete(e){this.isLoading=!0;try{await c(e),this.items=this.items.filter(t=>t._id!==e),this.error=null}catch(t){throw this.error=t.response?.data?.error||"Unbekannter Fehler",t}finally{this.isLoading=!1}},async restore(e){this.isLoading=!0;try{const{data:t}=await y(e);this.trash=this.trash.filter(r=>r._id!==e),this.items.push(t),this.error=null}catch(t){throw this.error=t.response?.data?.error||"Unbekannter Fehler",t}finally{this.isLoading=!1}}}});export{u};
